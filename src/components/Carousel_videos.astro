---
import "keen-slider/keen-slider.min.css";
const { data = [] } = Astro.props;
---

<div id="videos-carousel" class="keen-slider flex gap-4">
    {data.map((item, index) => (
        <div class="keen-slider__slide bg-white text-xl max-w-xs md:max-w-sm text-black shadow-xl p-6 font-bold rounded-lg mb-12" key={index}>
            {item.videoUrl && (
                <div class="mb-4 w-full h-64">
                    <iframe 
                        class="w-full h-full rounded-md"
                        src={item.videoUrl}  
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen
                    ></iframe>
                </div>
            )}
            <h3 class="text-lg font-semibold">{item.title}</h3>
        </div>
    ))}
</div>

<script>
    import KeenSlider from 'keen-slider';

    const slider = new KeenSlider('#videos-carousel', {
        slides: {
            perView: 1.25,
            spacing: 30,
        },
        breakpoints: {
            '(min-width: 768px)': {
                slides: {
                    perView: 2.5,
                    spacing: 20,
                },
            },
            '(min-width: 1024px)': {
                slides: {
                    perView: 3.5,
                    spacing: 20,
                },
            },
        },   
    });
</script>
